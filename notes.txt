# Tables

- Conversations
    - id
    - settings
    - meta
    - (cached) peers

- Participants
    - id
    - user_id
    - name
    - email
    - phone
    - meta
    - conversation_id
    - joint_at
    - last_seen
    - status
    - role

- Messages
    - id
    - content []
    - conversation_id
    - sender_id
    - sent_at
    - (cached) seens

# Query
- Get all Conversations
Conversation::all();

- Get conversations by user id
Participant::where($userId)->pluck('conversation_id');

- Get conversations between 2 users
SELECT conversation_id FROM participants WHERE conversation_id IN (Select conversation_id FROM participants WHERE user_id = 1) AND user_id = 2

- Search for messages in conversation
SELECT * FROM messages WHERE content LIKE %s AND conversation_id = 1;

- Get unread messages of user
SELECT count(id) FROM messages WHERE sent_at > A.last_seen  (SELECT last_seen, conversation_id FROM conversations WHERE user_id = 1 A) 

- New messages badge on admin menu
- Remove tailwind and use normal CSS instead
- Styling for bubble
- Typing indicator
- Delete Messages
- Delete whole conversation
- Search
- Reply message feature
